function HELPER_LOAD_TMUX_SESSION() {

    if [ $# > 1 ] ; then   
        session_name="$1"
        session_args="${@:2}"
    else
        session_name="$1"
        session_args=""
    fi

    tmux has-session -t "$session_name" 2> /dev/null
    if [ ! $? -eq 0 ] ; then 
        tmux new -s "$session_name" -d
    fi 

    if [ ! $TMUX ] ; then 
        tmux attach -t "$session_name" $session_args
    else
        tmux switch -t "$session_name" $session_args
    fi 
}

function HELPER_CLOSE_TMUX_PANE_OR_WINDOW_OR_SESSION() {
    tmux killp || tmux killw || tmux kill-session 
}

alias ssh="ssh -t -- /bin/sh -c 'tmux has-session && exec tmux attach || exec tmux'"
alias tmx="sh ~/.automation/new-shell-session.sh"
alias tn="HELPER_LOAD_TMUX_SESSION"
alias tk="tmux kill-session -t"
alias tls="tmux choose-tree -Zw"
alias tl="tls"
alias th="tmux split-window -h"
alias tv="tmux split-window -v"
alias tw="HELPER_CLOSE_TMUX_PANE_OR_WINDOW_OR_SESSION"
alias tsync="tmux setw synchronize-panes"