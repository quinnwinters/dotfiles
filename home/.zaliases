#!/usr/bin/env bash

# Better defaults
alias ls="tree -Caluv --dirsfirst -L 1"
alias sl="ls"
alias l="tree -Caluv --dirsfirst -L"
alias grep="grep --color=auto"
alias rm="trash -v -F"
alias cp="cp -i"
alias mv="mv -i"
alias help="man"
alias rsync='rsync --archive --compress-level=3 --copy-links --partial --inplace --progress --rsh=ssh -r'
alias chown="chown --preserve-root"
alias chmod="chmod --preserve-root"
alias chgrp="chgrp --preserve-root"
alias vim="nvim"
alias vi="nvim"
alias df="df -h"
alias du="du -h -d 2"

# Useful piping aliases
alias alert='notify-send --urgency=low -i "([? = 0 ] && echo terminal || echo error)" "$(history|tail -n1|sed -e '\''s/^\s*[0-9]\+\s*//;s/[;&|]\s*alert$//'\'')"'
alias -g GREP="| grep -i"
alias -g HEADN="| head -n"
alias -g TAILN="| tail -n"
alias -g LESS="| less -N"
alias -g SORT="| sort"
alias -g UNIQUE="| uniq -c"
alias -g LINES="| wc -l"
alias -g HISTOGRAM="| sort | uniq -c | sort -n"

# Some file manipulation tools
alias -g tailf="tail -f"
alias -g tail10="tail -n 10"
alias -g tail50="tail -n 50"

# Other useful aliases
alias afk="/System/Library/CoreServices/Menu\ Extras/User.menu/Contents/Resources/CGSession -suspend"
alias reload="exec $SHELL -l"
alias path='echo -e ${PATH//:/\\n}'
alias jsonVerify="python -m json.tool"


# Funciton to tagfiles
function TAGFILE() {
    fileName="$argv[$#]"
    tags="'${@[1, -2]}"
    tagsCollection=`echo $tags | sed -e "s/ /, /g" | tr -d \'`
    newFile="[$tagsCollection] $fileName"
    mv $fileName $newFile
}