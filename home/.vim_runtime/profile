  
" Some better editing behavior
set autoread                    " Read files when they change
set colorcolumn=80              " Set a clear end marker for lines 
set number                      " Use line numbers
set hlsearch                    " Highlight search results
set showmatch                   " Show matching braces
set noerrorbells                " Disable annoying beeps
set nobackup                    " Disable backups
set expandtab                   " Use spaces!!
set tabstop=4                   " Tab = 4 spaces
set shiftwidth=4                " Tab = 4 spaces
set softtabstop=4               " Tab = 4 spaces 
set nowrap                      " Long lines are lines

" Autocomplete in visual mode
set wildmenu                    " Autocomplete commands
set wildmode=longest:list,full  " Autocomplete goes longest -> first full
set wildignore=*.o,*~,*.pyc,*/.git/*,*/.hg/*,*/.svn/*,*/.DS_Store     

let mapleader = ","
nmap <leader>w :w!<cr>
map <C-j> <C-W>j
map <C-k> <C-W>k
map <C-h> <C-W>h
map <C-l> <C-W>l

command! W execute 'w !sudo tee % > /dev/null' <bar> edit!


fun! CleanExtraSpaces()
    let save_cursor = getpos(".")
    let old_query = getreg('/')
    silent! %s/\s\+$//e
    call setpos('.', save_cursor)
    call setreg('/', old_query)
endfun

if has("autocmd")
    autocmd BufWritePre *.txt,*.js,*.py,*.wiki,*.sh,*.coffee :call CleanExtraSpaces()
endif